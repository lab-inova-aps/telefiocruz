<!DOCTYPE html>
<html>
  <head>
	<script src='https://8x8.vc/vpaas-magic-cookie-6f78b29f3e6d4b71836bf9cba6cb72e1/external_api.js' async></script>
	<script>
		function parseQuery() {
            return (function () {
            var href = window.location.href;
            var queryString = href.substr(href.indexOf("?"));
            var query = {};
            var pairs = (queryString[0] === "?"
                ? queryString.substr(1)
                : queryString
            ).split("&");
            for (var i = 0; i < pairs.length; i += 1) {
                var pair = pairs[i].split("=");
                query[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || "");
            }
            return query;
            })();
        }
        const parameteres = parseQuery();
	</script>
	<script type="text/javascript">
	  window.onload = () => {
		const api = new JitsiMeetExternalAPI("8x8.vc", {
		  roomName: "vpaas-magic-cookie-6f78b29f3e6d4b71836bf9cba6cb72e1/" + parameteres.token,
		  width: "50%",
		  height: "350px",
		  parentNode: document.querySelector('#jaas-container'),
		  userInfo: {
			 displayName: parameteres.username
		  },
		  configOverwrite: {
			  prejoinPageEnabled: false // Skip the pre-join screen
		  },
		  interfaceConfigOverwrite: {
			  HIDE_PREMEETING_BUTTONS: true // Hide extra buttons like "Join Meeting"
		  }
		});
	  }
	</script>
  </head>
  <body><div style="display: flex; justify-content: center; align-items: center;" id="jaas-container" /></body>
</html>
